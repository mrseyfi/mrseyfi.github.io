<html>
<body>
<div id="svg">
test3
  </div>
  <script>

	$origin = $_SERVER['HTTP_ORIGIN'];
	$allowed_domains = [
		'http://tsetmc.ir',
		'https://api.webgold.ir',
		'http://www.mysite2.com',
	];

	if (in_array($origin, $allowed_domains)) {
		header('Access-Control-Allow-Origin: ' . $origin);
	}

	      
	var urlParams;
	(window.onpopstate = function () {
		var match,
			pl     = /\+/g,  // Regex for replacing addition symbol with a space
			search = /([^&=]+)=?([^&]*)/g,
			decode = function (s) { return decodeURIComponent(s.replace(pl, " ")); },
			query  = window.location.search.substring(1);
	  
		urlParams = {};
		while (match = search.exec(query))
		   urlParams[decode(match[1])] = decode(match[2]);
	})();
	
	var par_i = urlParams["i"];
	var par_u = urlParams["u"];


    function file_get_contents(uri, callback) {
         fetch(uri).then(res => res.text()).then(text => 
        {
            var xmlSvg =text;
            console.log(xmlSvg );
            document.getElementById('svg').innerHTML = xmlSvg;
        })
    }
    //var uri ='https://api.webgold.ir/data/?u=instinfofast&i=2400322364771558';
	
	//var uri = 'http://www.tsetmc.com/tsev2/data/instinfofast.aspx?i=2400322364771558&c=34'
	//var uri = 'https://api.webgold.ir/data/?u='+ par_u +'&i=' + par_i;
	var uri = 'http://tsetmc.ir/tsev2/res/loader.aspx?t=s&_513';
	file_get_contents(uri);

</script>

</body>
</html>
