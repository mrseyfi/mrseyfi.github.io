<html>
<body>
<div id="svg">
test3
  </div>
  <script>

	      
	var urlParams;
	(window.onpopstate = function () {
		var match,
			pl     = /\+/g,  // Regex for replacing addition symbol with a space
			search = /([^&=]+)=?([^&]*)/g,
			decode = function (s) { return decodeURIComponent(s.replace(pl, " ")); },
			query  = window.location.search.substring(1);
	  
		urlParams = {};
		while (match = search.exec(query))
		   urlParams[decode(match[1])] = decode(match[2]);
	})();
	
	var par_i = urlParams["i"];
	var par_u = urlParams["u"];


    function file_get_contents(uri, callback) {
         fetch(uri, {
		//method: '*', // *GET, POST, PUT, DELETE, etc.
		//mode: 'cors', // no-cors, *cors, same-origin
		//cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached
		//credentials: '*same-origin', // include, *same-origin, omit
		//headers: {
		//  'Content-Type': 'application/json'
		  // 'Content-Type': 'application/x-www-form-urlencoded',
		//},
		//redirect: 'follow', // manual, *follow, error
		//referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, //strict-origin-when-cross-origin, unsafe-url
		//body: JSON.stringify(data) // body data type must match "Content-Type" header
	  }
		 
		 ).then(res => res.text()).then(text => 
        {
            var xmlSvg =text;
            console.log(xmlSvg );
            document.getElementById('svg').innerHTML = xmlSvg;
        })
    }
	
	// Example POST method implementation:
	async function postData(url = '', data = {}) {
	  // Default options are marked with *
	  const response = await fetch(url, {
		//method: '*', // *GET, POST, PUT, DELETE, etc.
		//mode: 'cors', // no-cors, *cors, same-origin
		//cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached
		//credentials: '*same-origin', // include, *same-origin, omit
		//headers: {
		//  'Content-Type': 'application/json'
		  // 'Content-Type': 'application/x-www-form-urlencoded',
		//},
		//redirect: 'follow', // manual, *follow, error
		//referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, //strict-origin-when-cross-origin, unsafe-url
		//body: JSON.stringify(data) // body data type must match "Content-Type" header
	  });
	  return response.json(); // parses JSON response into native JavaScript objects
	}

    function file_get_contents2(uri, callback) {
		postData(uri)
		  .then(data => {
            var xmlSvg =data;
            console.log(xmlSvg );
            document.getElementById('svg').innerHTML = xmlSvg;
		  });
    }




    var uri ='https://api.webgold.ir/data/?u=instinfofast&i=2400322364771558';
	
	//var uri = 'http://www.tsetmc.com/tsev2/data/instinfofast.aspx?i=2400322364771558&c=34'
	//var uri = 'https://api.webgold.ir/data/?u='+ par_u +'&i=' + par_i;
	//var uri = 'http://tsetmc.ir/tsev2/res/loader.aspx?t=s&_513';
	file_get_contents(uri);

</script>

</body>
</html>
